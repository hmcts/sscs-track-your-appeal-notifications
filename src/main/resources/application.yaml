server.port: ${PORT:8081}

spring:
  application:
    name: TyaNotificationsService
  datasource:
    driverClassName: org.postgresql.Driver
    url: jdbc:postgresql://${JOB_SCHEDULER_DB_HOST:localhost}:${JOB_SCHEDULER_DB_PORT:5432}/${JOB_SCHEDULER_DB_NAME:sscsjobscheduler}${JOB_SCHEDULER_DB_CONNECTION_OPTIONS:}
    username: ${JOB_SCHEDULER_DB_USERNAME:sscsjobscheduler}
    password: ${JOB_SCHEDULER_DB_PASSWORD:sscsjobscheduler}
    properties:
      charSet: UTF-8
    tomcat:
      max-active: 10
      max-idle: 10
      min-idle: 2
      max-wait: 10000
      test-on-borrow: true
      test-on-connect: true
      test-on-idle: true
      validation-query: "SELECT 1"
      time-between-eviction-runs-millis: 10000
      test-while-idle: true
      test-on-return: true
      remove-abandoned: true
      remove-abandoned-timeout: 60
      log-abandoned: true
      abandon-when-percentage-full: 0

core_case_data:
  api:
    url: ${CORE_CASE_DATA_API_URL:http://localhost:4452}
  jurisdictionId: ${CORE_CASE_DATA_JURISDICTION_ID:SSCS}
  caseTypeId: ${CORE_CASE_DATA_CASE_TYPE_ID:Benefit}

idam:
  url: ${IDAM_URL:http://localhost:4501}
  s2s-auth:
    totp_secret: ${IDAM.S2S-AUTH.TOTP_SECRET:AAAAAAAAAAAAAAAC}
    microservice: ${IDAM.S2S-AUTH.MICROSERVICE:sscs}
    url: ${IDAM.S2S-AUTH:http://localhost:4502}
  oauth2:
    user:
      email: ${IDAM_SSCS_SYSTEMUPDATE_USER:SSCS_SYSTEM_UPDATE}
      password: ${IDAM_SSCS_SYSTEMUPDATE_PASSWORD:SSCS_SYSTEM_UPDATE}
    client:
      id: ${IDAM_OAUTH2_CLIENT_ID:sscs}
      secret: ${IDAM_OAUTH2_CLIENT_SECRET:QM5RQQ53LZFOSIXJ}
    redirectUrl: ${IDAM_OAUTH2_REDIRECT_URL:https://localhost:9000/poc}

coh:
  url: ${COH_URL:http://localhost:8081}

management:
  endpoints:
    web:
      exposure:
        include: '*'
      base-path: /
  endpoint:
    health:
      show-details: always

gov.uk.notification.api.key: ${NOTIFICATION_API_KEY:emailnotificationkey}
gov.uk.notification.api.testKey: ${NOTIFICATION_API_TEST_KEY:emailnotificationtestkey}
gov.uk.notification.api.testRecipients:
- "sscstest+notify@greencroftconsulting.com"
- "sscstest+notify2@greencroftconsulting.com"
- "07398785050"
- "07398785051"
- "+447398785050"
- "+447398785051"
- "TS1 1ST"
- "TS2 2ST"
- "TS3 3ST"

subscription.hmac.secret.text: ${EMAIL_MAC_SECRET_TEXT:our-big-secret}

hmcts.phone.number: 0300 123 1142

evidence.submission.info.link: ${EVIDENCE_SUBMISSION_INFO_LINK:http://localhost:3000/evidence/appeal_id}
manage.emails.link: ${SSCS_MANAGE_EMAILS_LINK:http://localhost:3000/manage-email-notifications/mac}
track.appeal.link: ${SSCS_TRACK_YOUR_APPEAL_LINK:http://localhost:3000/trackyourappeal/appeal_id}
hearing.info.link: ${HEARING_INFO_LINK:http://localhost:3000/abouthearing/appeal_id}
claiming.expenses.link: ${CLAIMING_EXPENSES_LINK:http://localhost:3000/expenses/appeal_id}
online.hearing.link: ${ONLINE_HEARING_LINK:http://localhost:3000}

job.scheduler:
  retryPolicy:
    maxNumberOfJobExecutions: 2
    delayBetweenAttemptsInMs: 1000

notification:
  appealReceived:
    appellant:
      emailId: b90df52f-c628-409c-8875-4b0b9663a053
      smsId: ede384aa-0b6e-4311-9f01-ee547573a07b
    representative:
      emailId: 4b1ee55b-abd1-4e7e-b0ed-693d8df1e741
      smsId: 99bd4a56-256c-4de8-b187-d43a8dde466f
    appointee:
      emailId: 08365e91-9e07-4a5c-bf96-ef56fd0ada63
      smsId: ede384aa-0b6e-4311-9f01-ee547573a07b
  evidenceReceived:
    appellant:
      emailId: c5654134-2e13-4541-ac73-334a5b5cdbb6
      smsId: 74bda35f-040b-4355-bda3-faf0e4f5ae6e
    representative:
      smsId: 345f802b-7089-4f46-a17f-bf534b272740
    appointee:
      emailId: c5654134-2e13-4541-ac73-334a5b5cdbb6
      smsId: 74bda35f-040b-4355-bda3-faf0e4f5ae6e
  hearingAdjourned:
    appellant:
      emailId: bff02237-9bcb-49fa-bbf7-11725b97132a
      smsId: 46c6bf06-33dd-4e5a-9b6b-8bd6d0eb33b1
    representative:
      emailId: 75357eb8-bba7-4bdf-b879-b535bc3fb50a
      smsId: a170d63e-b04e-4da5-ad89-d93644b6c1e9
    appointee:
      emailId: bff02237-9bcb-49fa-bbf7-11725b97132a
      smsId: 46c6bf06-33dd-4e5a-9b6b-8bd6d0eb33b1
  hearingPostponed:
    appellant:
      emailId: 08959288-e09a-472d-80b8-af79bfcbb437
    representative:
      emailId: 0a48bd48-f79c-4863-b6e3-e8fa69019c34
    appointee:
      emailId: 08959288-e09a-472d-80b8-af79bfcbb437
  appealLapsed:
    appellant:
      emailId: 8ce8d794-75e8-49a0-b4d2-0c6cd2061c11
      smsId: d2b4394b-d1c9-4d5c-a44e-b382e41c67e5
    representative:
      emailId: e93dd744-84a1-4173-847a-6d023b55637f
      smsId: ee58f7d0-8de7-4bee-acd4-252213db6b7b
    appointee:
      emailId: 8ce8d794-75e8-49a0-b4d2-0c6cd2061c11
      smsId: d2b4394b-d1c9-4d5c-a44e-b382e41c67e5
  appealWithdrawn:
    appellant:
      emailId: 8620e023-f663-477e-a771-9cfad50ee30f
      smsId: 446c7b23-7342-42e1-adff-b4c367e951cb
    representative:
      emailId: e29a2275-553f-4e70-97f4-2994c095f281
      smsId: f59440ee-19ca-4d47-a702-13e9cecaccbd
    appointee:
      emailId: 8620e023-f663-477e-a771-9cfad50ee30f
      smsId: 446c7b23-7342-42e1-adff-b4c367e951cb
  subscriptionCreated.smsId: 7397a76f-14cb-468c-b1a7-0570940ead91
  subscriptionUpdated:
    emailId: b8b2904f-629d-42cf-acea-1b74bde5b2ff
    smsId: 7397a76f-14cb-468c-b1a7-0570940ead91
  subscriptionOld:
    emailId: 03b957bf-e21d-4147-90c1-b6fefa8cf70d
    smsId: 759c712a-6b55-485e-bcf7-1cf5c4896eb1
  hearingBooked:
    appellant:
      emailId: fee16753-0bdb-43f1-9abb-b14b826e3b26
      smsId: f900174a-a556-43b2-8042-bbf3e6090071
    representative:
      emailId: a56e67cb-6b4b-41e3-8f4c-cd1cdb6809c1
      smsId: e04c548d-1ba9-40b5-bf9b-ea5e7bbadbac
    appointee:
      emailId: fee16753-0bdb-43f1-9abb-b14b826e3b26
      smsId: f900174a-a556-43b2-8042-bbf3e6090071
  evidenceReminder:
    emailId: b9e47ec4-3b58-4b8d-9304-f77ac27fb7f2
    smsId: e3f71440-d1ac-43c8-a8cc-a088c4f3c959
  appealCreated:
    appellant:
      emailId: 01293b93-b23e-40a3-ad78-2c6cd01cd21c
      smsId: f41222ef-c05c-4682-9634-6b034a166368
      letterId: 91143b85-dd9d-430c-ba23-e42ec90f44f8
    representative:
      emailId: 652753bf-59b4-46eb-9c24-bd762338a098
      smsId: 0e44927e-168b-4510-ac57-6932fda7aec1
      letterId: 77ea8a2f-06df-4279-9c1f-0f23cb2d9bbf
    appointee:
      emailId: 362d9a85-e0e4-412b-b874-020c0464e2b4
      smsId: f41222ef-c05c-4682-9634-6b034a166368
      letterId: 747d026e-1bec-4e96-8a34-28f36e30bba5
  resendAppealCreated:
    appellant:
      emailId: 01293b93-b23e-40a3-ad78-2c6cd01cd21c
      smsId: f41222ef-c05c-4682-9634-6b034a166368
    representative:
      emailId: 652753bf-59b4-46eb-9c24-bd762338a098
      smsId: 0e44927e-168b-4510-ac57-6932fda7aec1
  hearingReminder:
    emailId: 774a5cba-fab6-4b8c-a9d9-03f913ed2dca
    smsId: 404e9a43-6318-492c-b5c2-e34ddfbbdde9
  hearingHoldingReminder:
    emailId: db8357f1-2302-49a8-a39f-2e0918cd182d
    smsId: fe4e0146-cd27-49ca-8360-465250573019
  secondHearingHoldingReminder:
    emailId: db8357f1-2302-49a8-a39f-2e0918cd182d
    smsId: fe4e0146-cd27-49ca-8360-465250573019
  thirdHearingHoldingReminder:
    emailId: db8357f1-2302-49a8-a39f-2e0918cd182d
    smsId: fe4e0146-cd27-49ca-8360-465250573019
  finalHearingHoldingReminder:
    emailId: ab66ce4e-3f18-483c-9025-f9731bad9d6e
    smsId: f1409c96-8cfa-4e92-b046-887f9599d7e4
  dwpResponseLateReminder:
    emailId: 1dfa9e4e-0a85-4001-acc9-2847ed6e2a22
    smsId: ef6297d1-7b03-432a-b04a-62a01f009b56
  question_round_issued:
    emailId: ccfbfcac-847d-4e55-955c-096802c131a0
  follow_up_question_round_issued:
    emailId: 71efa426-bfa9-473e-b3cf-da5d99e39461
  question_deadline_elapsed:
    emailId: 48f2b7d1-cb71-4f60-b145-dfcf63cc4fcd
  question_deadline_reminder:
    emailId: 29820a6a-1aa4-4518-8d08-f06f09c5d808
  continuous_online_hearing_relisted:
    emailId: 46cc347a-1a5c-40ce-993a-49769dfce626
  decision_issued:
    emailId: 62e72e11-5eb6-4048-83f4-0b0c5c59fcb9
  corDecision:
    emailId: 5b0df251-49b9-46d5-b347-37a81ab77f19
  struckOut:
    letterId: 7383b637-d76e-4c9f-8af9-3e3573168011
  caseUpdated:
    appellant:
      emailId: 01293b93-b23e-40a3-ad78-2c6cd01cd21c
    appointee:
      emailId: 01293b93-b23e-40a3-ad78-2c6cd01cd21c
    representative:
      emailId: 652753bf-59b4-46eb-9c24-bd762338a098
  appealLodged:
    appellant:
      emailId: b90df52f-c628-409c-8875-4b0b9663a053
      smsId: ede384aa-0b6e-4311-9f01-ee547573a07b
      letterId: 91143b85-dd9d-430c-ba23-e42ec90f44f8
    representative:
      emailId: 4b1ee55b-abd1-4e7e-b0ed-693d8df1e741
      smsId: 99bd4a56-256c-4de8-b187-d43a8dde466f
      letterId: 77ea8a2f-06df-4279-9c1f-0f23cb2d9bbf
    appointee:
      emailId: 08365e91-9e07-4a5c-bf96-ef56fd0ada63
      smsId: ede384aa-0b6e-4311-9f01-ee547573a07b
      letterId: 747d026e-1bec-4e96-8a34-28f36e30bba5
  online:
    responseReceived:
      emailId: 90f0ed29-a616-4ce0-b4ef-108391f5d90e
    evidenceReceived:
      emailId: 0ac422c2-1585-4364-a6f0-4f42c43f85c5
  paper:
    responseReceived:
      emailId: a64bce9a-9162-47ca-b3e7-cf5f85ca7bdc
      smsId: f5b61f94-0b2b-4e8e-9c25-56e9830df7d4
      appellant:
        letterId: 16c141bc-4e16-48ed-8b60-4db58207201c
      representative:
        letterId: 59a392a1-5946-4e55-ac82-048fd32b15a5
      appointee:
        letterId: 16c141bc-4e16-48ed-8b60-4db58207201c
    appealDormant:
      appellant:
        emailId: 976bdb6c-8a86-48cf-9e0f-7989acaec0c2
        smsId: 1aa60c8a-1b6f-4ee1-88ae-51c1cef0ea2b
      representative:
        emailId: b74ea5d4-dba2-4148-b822-d102cedbea12
        smsId: 4562984e-2854-4191-81d9-cffbe5111015
    evidenceReminder:
      emailId: a3b22e07-e90b-4b52-a293-30823802c209
      smsId: aaa1aad4-7abc-4a7a-b8fb-8b0567c09365
    evidenceReceived:
      appellant:
        emailId: cab48431-a4f0-41f5-b753-2cecf20ab5d4
      representative:
        emailId: 7af36950-fc63-45d1-907d-f472fac7af06
        smsId: 345f802b-7089-4f46-a17f-bf534b272740
      appointee:
        emailId: c5654134-2e13-4541-ac73-334a5b5cdbb6
        smsId: 74bda35f-040b-4355-bda3-faf0e4f5ae6e
    struckOut:
      letterId: 7383b637-d76e-4c9f-8af9-3e3573168011
  oral:
    responseReceived:
      emailId: 01caec0c-191b-4a32-882a-6fded2546ce6
      smsId: 317a121e-d08c-4890-b3b3-4652f741771f
      appellant:
        letterId: 8b11f3f4-6452-4a35-93d8-a94996af6499
      representative:
        letterId: 419beb1c-4f26-45e7-8db3-69bfe5e9224d
      appointee:
        letterId: 8b11f3f4-6452-4a35-93d8-a94996af6499
    evidenceReminder:
      emailId: b9e47ec4-3b58-4b8d-9304-f77ac27fb7f2
      smsId: e3f71440-d1ac-43c8-a8cc-a088c4f3c959
    evidenceReceived:
      representative:
        emailId: 30260c0b-5575-4f4e-bce4-73cf3f245c2d
    appealDormant:
      appellant:
        emailId: fc9d0618-68c4-48ec-9481-a84b225a57a9
      representative:
        emailId: e2ee8609-7d56-4857-b3f8-79028e8960aa
    struckOut:
      letterId: 7383b637-d76e-4c9f-8af9-3e3573168011

smsSender:
  pip: 80b11be7-5c10-2773-8351-070e22d5ab6b
  esa: f84a568d-bd01-4940-a48a-5bcfc52940e0

reminder:
  evidenceReminder.delay.seconds: 604800
  dwpResponseLateReminder.delay.seconds: 3024000
  paperCases.decisionDate.initialDelay.seconds: 7257600
  hearingContactDate.initialDelay.seconds: 4838400
  hearingContactDate.subsequentDelay.seconds: 3628800
  hearingReminder.beforeFirst.seconds: 604800
  hearingReminder.beforeSecond.seconds: 86400

outOfHours:
  startHour: ${HOURS_START_TIME:9}
  endHour: ${HOURS_END_TIME:17}

feign:
  client:
    config:
      core-case-data-api:
        decode404: true

# Document store
document_management.url: ${DOCUMENT_MANAGEMENT_URL:http://dm-store:4506}

appeal.email.host: ${EMAIL_SERVER_HOST:localhost}
appeal.email.port: ${EMAIL_SERVER_PORT:1025}
appeal.email.smtp.tls.enabled: ${EMAIL_SMTP_TLS_ENABLED:true}
appeal.email.smtp.ssl.trust: ${EMAIL_SMTP_SSL_TRUST:*}

appeal.email.from: ${EMAIL_FROM:sscs@hmcts.net}
appeal.email.to: ${EMAIL_TO:receiver@hmcts.net}
appeal.email.subject: ${EMAIL_SUBJECT:Your appeal}
appeal.email.message: ${EMAIL_MESSAGE:Your appeal has been created \nPlease do not respond to this email}

appellant.appeal.html.template.path: /templates/appellant_appeal_template.html
noncompliantcaseletter.appeal.html.template.path: /templates/non_compliant_case_letter_template.html

pdf.api.url: ${PDF_API_URL:http://localhost:5500}

robotics.email.from: ${ROBOTICS_EMAIL_FROM:sscs@hmcts.net}
robotics.email.to: ${ROBOTICS_EMAIL_TO:receiver@hmcts.net}
robotics.email.subject: ${ROBOTICS_EMAIL_SUBJECT:Robotics Data}
robotics.email.message: ${ROBOTICS_EMAIL_MESSAGE:Please find attached the robotics json file \nPlease do not respond to this email}
robotics.schema.resource.location: /schema/sscs-robotics.json

feature.bundled_letters_on: ${BUNDLED_LETTERS_ON:false}
feature.letters_on: ${LETTERS_ON:false}


---
# default profile (development, production etc.)
spring:
  profiles: default
  profiles.include: ${INFRASTRUCTURE_ENV:aat}-${SLOT:STAGING}-slot
  flyway.enabled: true
job.scheduler:
  quartzProperties:
    org.quartz:
      scheduler:
        instanceId: AUTO
        idleWaitTime: ${JOB_SCHEDULER_POLL_INTERVAL:10000}
      dataSource:
        jobscheduler:
          driver: org.postgresql.Driver
          URL: ${spring.datasource.url}
          user: ${spring.datasource.username}
          password: ${spring.datasource.password}
      jobStore:
        class: org.quartz.impl.jdbcjobstore.JobStoreTX
        isClustered: true
        driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate
        dataSource: jobscheduler
      threadPool:
        class: org.quartz.simpl.SimpleThreadPool
        threadCount: 8
---
# integration & functional profile
spring:
  profiles: integration, functional
  autoconfigure.exclude:
  - org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
  flyway.enabled: false
job.scheduler:
  autoStart: false
  quartzProperties:
    org.quartz:
      scheduler:
        instanceId: AUTO
      jobStore:
        class: org.quartz.simpl.RAMJobStore